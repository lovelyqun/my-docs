<!DOCTYPE html>
<html>

<body>
  <button onclick="next()">前进</button>
  <button onclick="back()">后退</button>
  <button onclick="add()">操作</button>
  <h1 id="value">0</h1>
</body>
<script>
  // 新的操作往当前栈推入数据
  // 后退操作,当前栈出栈,历史栈进栈
  // 前进操作,历史栈出栈,当前栈入栈
  let stackHistory = [] // 历史栈
  let stackCurrent = [] //当前栈
  let value = 0
  add()
  update(value)
  // 前进
  function next() {
    if (stackHistory.length > 0) {
      let target = stackHistory[stackHistory.length - 1]
      stackCurrent.push(target)
      stackHistory.splice(stackHistory.length - 1, 1)
      update()
    } else {
      console.log('没有更多了')
    }
  }
  // 后退
  function back() {
    if (stackCurrent.length > 1) {
      let target = stackCurrent[stackCurrent.length - 1]
      stackHistory.push(target)
      stackCurrent.splice(stackCurrent.length - 1, 1)
      update()
    } else {
      console.log('没有更多了')
    }
  }
  // 操作
  function add() {
    ++value
    stackCurrent.push(value)
    stackHistory = []
    update()
  }
  // 更新显示
  function update() {
    document.querySelector('#value').innerHTML = stackCurrent[stackCurrent.length - 1]
  }
</script>

</html>